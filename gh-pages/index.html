<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Godot Version Manager</title>
        <link
            href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap"
            rel="stylesheet"
        />
        <meta property="og:title" content="Godot Version Manager" />
        <meta
            property="og:description"
            content="Manage and switch between different versions of the Godot Engine effortlessly with gdvm."
        />
        <meta property="og:url" content="https://gdvm.io" />
        <meta property="og:type" content="website" />
        <style>
            body {
                font-family: Arial, sans-serif;
                margin: 0;
                padding: 0;
                background-color: #f4f4f4;
                color: #000;
            }
            .container {
                width: 90%;
                max-width: 800px;
                margin: auto;
                padding: 20px;
                background-color: #fff;
                margin-top: 50px;
                margin-bottom: 50px;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            }
            h1 {
                text-align: center;
            }
            .tabs {
                display: flex;
                margin-top: 20px;
                border-bottom: 1px solid #ccc;
            }
            .tab {
                padding: 10px 20px;
                cursor: pointer;
                border: 1px solid #ccc;
                border-bottom: none;
                background-color: #eaeaea;
                margin-right: 5px;
                border-top-left-radius: 5px;
                border-top-right-radius: 5px;
            }
            .tab.active {
                background-color: #fff;
                font-weight: bold;
            }
            .tab-content {
                display: none;
                padding: 20px;
                border: 1px solid #ccc;
            }
            .tab-content.active {
                display: block;
            }
            .command-box {
                background-color: #f0f0f0;
                padding: 15px;
                border-radius: 5px;
                cursor: pointer;
                user-select: all;
            }
            .command-box:hover {
                background-color: #e0e0e0;
            }
            .command-box,
            code {
                font-family: "Fira Code", monospace;
            }
            code {
                background-color: #f0f0f0;
                padding: 2px 5px;
                border-radius: 3px;
            }
            .footer {
                text-align: center;
                margin-top: 40px;
                font-size: 0.9em;
                color: #666;
            }
            .github-link {
                display: block;
                text-align: center;
                margin-top: 20px;
                text-decoration: none;
                color: #0366d6;
            }
            .popover {
                position: absolute;
                background-color: #333;
                color: #fff;
                padding: 5px 10px;
                border-radius: 3px;
                font-size: 0.9em;
                opacity: 0;
                transition: opacity 0.3s;
            }
            .popover.show {
                opacity: 1;
            }
            ul li {
                margin-bottom: 10px;
            }
            ul li:last-child {
                margin-bottom: 0;
            }
            body {
                line-height: 1.3;
            }
            .tip-box {
                background-color: #e7f3fe;
                border-left: 6px solid #2196f3;
                padding: 10px;
                margin-top: 20px;
                border-radius: 5px;
                display: flex;
                align-items: center;
            }
            .tip-box .emoji {
                font-size: 1.5em;
                margin-right: 10px;
            }
            @media (prefers-color-scheme: dark) {
                body {
                    background-color: #121212;
                    color: #e0e0e0;
                }
                .container {
                    background-color: #1e1e1e;
                    box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
                }
                .tab {
                    background-color: #333;
                    border-color: #555;
                }
                .tab.active {
                    background-color: #1e1e1e;
                }
                .tab-content {
                    border-color: #555;
                }
                .command-box {
                    background-color: #333;
                }
                .command-box:hover {
                    background-color: #444;
                }
                code {
                    background-color: #333;
                }
                .footer {
                    color: #999;
                }
                .github-link {
                    color: #58a6ff;
                }
                .popover {
                    background-color: #555;
                }
                .tip-box {
                    background-color: #2a3b4d;
                    border-left-color: #2196f3;
                }
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>Godot Version Manager</h1>
            <p>
                Godot Version Manager (gdvm) is a powerful tool that allows
                developers to easily install, manage, and switch between
                different versions of the Godot Engine.
            </p>
            <p>
                Whether you're working on multiple projects or need to test
                features across various Godot versions, you'll never need to
                manually fuss with Godot installations again.
            </p>
            <a
                href="https://github.com/adalinesimonian/gdvm"
                class="github-link"
                >View on GitHub</a
            >
            <h2>Installation</h2>
            <p>To install gdvm, run the following command in your terminal:</p>
            <div class="tabs">
                <div class="tab" id="nix-tab">macOS, Linux</div>
                <div class="tab" id="windows-tab">Windows</div>
            </div>
            <div class="tab-content" id="nix-content">
                <div class="command-box" id="nix-command">
                    curl -sSL
                    https://raw.githubusercontent.com/adalinesimonian/gdvm/main/scripts/install.sh
                    | bash
                </div>
            </div>
            <div class="tab-content" id="windows-content">
                <div class="command-box" id="windows-command">
                    powershell -Command "iwr -useb
                    https://raw.githubusercontent.com/adalinesimonian/gdvm/main/scripts/install.ps1
                    | iex"
                </div>
            </div>
            <div class="getting-started">
                <h2>Getting Started</h2>
                <p>
                    Once installed, you can use the <code>gdvm</code> command to
                    manage your Godot installations. Here are some common
                    commands:
                </p>
                <ul>
                    <li>
                        <code>gdvm use stable</code> â€” Sets the system-wide
                        default version of Godot to the latest stable version
                    </li>
                    <li>
                        <code>gdvm pin stable --csharp</code> â€” Pins the default
                        version for the current folder to the latest stable
                        version with C# support, using a
                        <code>.gdvmrc</code> file in the current folder
                    </li>
                </ul>
                <div class="tip-box">
                    <span class="emoji">ðŸ’¡</span>
                    <span
                        >If you pin or use a global system version, you can
                        associate <code>.godot</code> files in your OS with
                        <code>~/.gdvm/bin/godot.exe</code> to automatically use
                        either the system-wide version of Godot or the pinned
                        version for the project directory to open that project
                        file.</span
                    >
                </div>
                <ul>
                    <li>
                        <code>gdvm run</code> â€” Runs the default version of
                        Godot for the current folder or the system-wide default
                        version if the current folder is not pinned
                    </li>
                    <li>
                        <code>godot</code> â€” Equivalent to <code>gdvm run</code>
                    </li>
                    <li>
                        <code>godot_console</code> â€” For Windows users, same as
                        <code>gdvm run</code>, but with the console window open
                    </li>
                    <li>
                        <code>gdvm run 3.5 --csharp</code> â€” Runs Godot version
                        3.5 with C# support
                    </li>
                    <li>
                        <code>gdvm remove 3.5</code> â€” Removes Godot version 3.5
                        without C# support
                    </li>
                    <li>
                        <code>gdvm list</code> â€” Lists all installed Godot
                        versions
                    </li>
                    <li>
                        <code>gdvm search 4</code> â€” Searches for all 4.x
                        versions of Godot
                    </li>
                    <li>
                        <code>gdvm upgrade</code> â€” Upgrades gdvm to the latest
                        version
                    </li>
                </ul>
                <p>
                    For more information on how to use <code>gdvm</code>, run
                    <code>gdvm --help</code>.
                </p>
            </div>
            <div class="footer">
                &copy; 2024 Adaline Simonian. All rights reserved.
            </div>
        </div>

        <script>
            const tabs = document.querySelectorAll(".tab");
            const contents = document.querySelectorAll(".tab-content");

            function activateTab(index) {
                tabs.forEach((tab, i) => {
                    if (i === index) {
                        tab.classList.add("active");
                        contents[i].classList.add("active");
                    } else {
                        tab.classList.remove("active");
                        contents[i].classList.remove("active");
                    }
                });
            }

            tabs.forEach((tab, index) => {
                tab.addEventListener("click", () => {
                    activateTab(index);
                });
            });

            // Detect user platform and activate the corresponding tab
            window.addEventListener("DOMContentLoaded", () => {
                const platform = navigator.platform.toLowerCase();
                if (platform.includes("win")) {
                    activateTab(1); // Windows tab
                } else {
                    activateTab(0); // *nix tab
                }
            });

            // Add click event to command boxes to select text
            const commandBoxes = document.querySelectorAll(".command-box");
            commandBoxes.forEach((box) => {
                box.addEventListener("click", () => {
                    const command = box.textContent.trim().replace(/\s+/g, " ");
                    navigator.clipboard.writeText(command);

                    // Create popover
                    let popover = document.createElement("div");
                    popover.className = "popover";
                    popover.textContent = "Copied!";
                    document.body.appendChild(popover);

                    // Position popover
                    const rect = box.getBoundingClientRect();
                    popover.style.top = `${rect.top - 30}px`;
                    popover.style.left = `${rect.left}px`;

                    // Show popover
                    setTimeout(() => {
                        popover.classList.add("show");
                    }, 0);

                    // Hide and remove popover after 2 seconds
                    setTimeout(() => {
                        popover.classList.remove("show");
                        setTimeout(() => {
                            popover.remove();
                        }, 300);
                    }, 2000);
                });
            });
        </script>
    </body>
</html>
